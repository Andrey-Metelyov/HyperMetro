type: edu
files:
- name: src/Main.java
  visible: true
  text: |
    import Metro.*;

    import java.io.IOException;
    import java.nio.file.Files;
    import java.nio.file.NoSuchFileException;
    import java.nio.file.Paths;
    import java.util.*;
    import java.util.stream.Collectors;

    public class Main {
        public static void main(String[] args) {
            String filename;
            if (args.length == 0) {
                System.out.println("No file specified");
                filename = "./HyperMetro/task/test/baltimore.json";
    //            return;
            } else {
                filename = args[0];
            }
            System.err.println(Arrays.toString(args));
            System.err.println(Paths.get("").toAbsolutePath());
            try {
                String json = Files.readString(Paths.get(filename));
                System.err.println(json);
                Metro metro = Metro.deserialize(json);
    //            Map<String, MetroLinkedList> lists = readJson(json);
    //            System.err.println(lists);
                guiLoop(metro);
            } catch (NoSuchFileException e) {
                System.out.println("Error. File " + filename + " doesn't exists");
            } catch (IOException e) {
                e.printStackTrace();
            }
        }

        private static List<String> parse(String command) {
            List<String> list = new ArrayList<>();
            String[] commands = command.split("\\s+", 2);
            list.add(commands[0]);
            if (commands.length > 1) {
                String params = commands[1];
                while (!params.isEmpty()) {
                    if (params.charAt(0) == '"') {
                        int closeQuotePos = params.indexOf('\"', 1);
                        list.add(params.substring(1, closeQuotePos));
                        params = params.substring(closeQuotePos + 1).trim();
                    } else {
                        int nextSpacePos = params.indexOf(' ');
                        if (nextSpacePos != -1) {
                            list.add(params.substring(0, nextSpacePos));
                            params = params.substring(nextSpacePos + 1).trim();
                        } else {
                            list.add(params);
                            params = "";
                        }
                    }
                }
            }
            return list;
        }

        private static void guiLoop(Metro metro) {
            Scanner scanner = new Scanner(System.in);
            while (true) {
                List<String> command = parse(scanner.nextLine());
                switch (command.get(0)) {
                    case "/append": {
                        String line = command.get(1);
                        Station station = new Station(command.get(2), null);
                        System.err.println(line);
                        System.err.println(station);
                        metro.getLine(line).add(station);
                        break;
                    }
                    case "/add-head": {
                        String line = command.get(1);
                        Station station = new Station(command.get(2), null);
                        metro.getLine(line).addFirst(station);
                        break;
                    }
                    ///connect "Linka C" "I.P.Pavlova" "Linka A" "Petriny"
                    case "/connect": {
                        String line1 = command.get(1);
                        String station1 = command.get(2);
                        String line2 = command.get(3);
                        String station2 = command.get(4);
                        metro.connect(line1, station1, line2, station2);
                        break;
                    }
    //                case "/remove": {
    //                    String line = command.get(1);
    //                    Station station = new Station(command.get(2), null);
    //                    metro.getLine(line).remove(station);
    //                    break;
    //                }
                    case "/output": {
                        String line = command.get(1);
                        Collection<Station> stations = metro.getLine(line).getStations();
                        System.out.println("depot");
                        System.out.println(
                                stations.stream()
                                        .map(it -> {
                                            return it.getName()
                                                    + (it.getTransfer().isEmpty() ? "" :
                                                    " - " + it.getTransfer().get(0).getStation()
                                                    + " ("
                                                            + it.getTransfer().get(0).getLine()
                                                    + ')');
                                        })
                                        .collect(Collectors.joining("\n"))
                        );
                        System.out.println("depot");
                        break;
                    }
                    case "/exit":
                        return;
                    default:
                }
            }
        }

    //    private static Map<String, MetroLinkedList> readJson(String json) {
    //        Map<String, MetroLinkedList> result = new HashMap<>();
    //        try (JsonReader reader = new JsonReader(new StringReader(json))) {
    //            String name = "";
    //            int stationNumber = 0;
    //            String stationName = "";
    //            List<Station> transfer = null;
    //            MetroLinkedList current = null;
    //            State state = State.GLOBAL;
    //            int counter = 0;
    //            while (reader.hasNext()) {
    //                while (reader.hasNext()) {
    //                    counter++;
    //                    JsonToken nextToken = reader.peek();
    //                    System.err.print("\t");
    //                    System.err.print(counter);
    //                    System.err.print(" ");
    //                    System.err.print(state);
    //                    System.err.print("\t");
    //                    System.err.println(nextToken);
    //                    if (JsonToken.BEGIN_OBJECT.equals(nextToken)) {
    //                        reader.beginObject();
    //                        if (state == State.GLOBAL) {
    //                            state = State.LINE;
    //                        } else if (state == State.LINE) {
    //                            current = new MetroLinkedList();
    //                            System.err.println("create new line");
    //                            System.err.println("add line " + name);
    //                            result.put(name, current);
    //                            System.err.println("res:" + result);
    //                            System.err.println("cur:" + current);
    //                            state = State.STATION;
    //                        } else if (state == State.STATION) {
    //                            state = State.STATION_DETAILS;
    //                        }
    //                    } else if (JsonToken.NAME.equals(nextToken)) {
    //                        name = reader.nextName();
    //                        if (state == State.STATION) {
    //                            stationNumber = Integer.parseInt(name);
    //                            System.err.println("stationNumber=" + stationNumber);
    //                        }
    //                        System.err.println("name='" + name + "'");
    //                    } else if (JsonToken.STRING.equals(nextToken)) {
    //                        stationName = reader.nextString();
    //                        state = State.TRANSFER;
    //                    } else if (JsonToken.BEGIN_ARRAY.equals(nextToken)) {
    //                        reader.beginArray();
    //                        transfer = new ArrayList<>();
    ////                        state = State.TRANSFER;
    //                    }
    //                }
    //                System.err.println("end of object");
    //                if (state == State.TRANSFER) {
    //                    current.add(new Station(stationNumber, stationName, transfer));
    //                    System.err.println("add station " + stationName);
    //                    System.err.println("res:" + result);
    //                    System.err.println("cur:" + current);
    //                    reader.endArray();
    //                    state = State.STATION;
    //                } else {
    //                    state = State.LINE;
    //                }
    //                reader.endObject();
    //            }
    //        } catch (IOException e) {
    //            e.printStackTrace();
    //        }
    //        return result;
    //    }
    }
  learner_created: false
- name: src/MetroLinkedList.java
  visible: true
  text: |-
    import Metro.Station;

    import java.util.Collection;
    /*
    class MetroLinkedList {
        Node head;
        Node tail;
        int size;

        static class Node {
            Station value;
            Node prev;
            Node next;

            public Node(Station value, Node prev, Node next) {
                this.value = value;
                this.prev = prev;
                this.next = next;
            }
        }

        public MetroLinkedList() {
        }

        public MetroLinkedList(Collection<Station> collection) {
            for (Station el : collection) {
                add(el);
            }
        }

        public MetroLinkedList(Station[] array) {
            for (Station el : array) {
                add(el);
            }
        }

        public void printLine(Station first, Station last) {
            System.out.println(first.name);
            Node cur = head;
            while (cur != null) {
                System.out.println(cur.value.name);
                cur = cur.next;
            }
            System.out.println(last.name);
        }

        public void printTriples(Station first, Station last) {
            Station prev = first;
            Node cur = head;
            while (cur != null) {
                Station next = cur.next == null ? last : cur.next.value;
                System.out.print(prev.name);
                System.out.print(" - ");
                System.out.print(cur.value.name);
                System.out.print(" - ");
                System.out.println(next.name);
                prev = cur.value;
                cur = cur.next;
            }
        }

        public void addFirst(Station value) {
            if (head == null) {
                add(value);
            } else {
                head.prev = new Node(value, null, head);
                head = head.prev;
                size++;
            }
        }

        public void addLast(Station value) {
            add(value);
        }

        public void remove(Station value) {
            Node cur = head;
            while (cur != null && !cur.value.equals(value)) {
                cur = cur.next;
            }
            if (cur != null) {
                if (cur == head) {
                    removeFirst();
                } else if (cur == tail) {
                    removeLast();
                } else {
                    cur.prev.next = cur.next;
                    cur.prev = null;
                    cur.next = null;
                }
            }
        }

        public void removeFirst() {
            if (head != null) {
                head = head.next;
                if (head != null) {
                    head.prev = null;
                } else {
                    tail = null;
                }
            }
            size--;
        }

        public void removeLast() {
            if (tail != null) {
                tail = tail.prev;
                if (tail != null) {
                    tail.next = null;
                } else {
                    head = null;
                }
            }
            size--;
        }

        public void reverse() {
            Node cur = head;
            while (cur != null) {
                Node next = cur.next;
                cur.next = cur.prev;
                cur.prev = next;
                cur = next;
            }
            cur = tail;
            tail = head;
            head = cur;
        }

        public void split(int index) {
            Node cur = head;
            for (int i = 0; i < index; i++) {
                cur = cur.next;
            }
            tail.next = head;
            head.prev = tail;
            head = cur;
            tail = cur.prev;
            head.prev = null;
            tail.next = null;
        }

        public void add(Station el) {
            if (tail == null) {
                head = tail = new Node(el, null, null);
            } else {
                tail.next = new Node(el, tail, null);
                tail = tail.next;
            }
            size++;
        }

        @Override
        public String toString() {
            Node cur = head;
            StringBuilder buf = new StringBuilder();
            while (cur != null) {
                buf.append(cur.value).append(" ");
                cur = cur.next;
            }
            return buf.toString();
        }
    }
    */
  learner_created: false
- name: test/Tests.java
  visible: false
  text: |-
    import org.hyperskill.hstest.dynamic.DynamicTest;
    import org.hyperskill.hstest.exception.outcomes.WrongAnswer;
    import org.hyperskill.hstest.stage.StageTest;
    import org.hyperskill.hstest.testcase.CheckResult;
    import org.hyperskill.hstest.testing.TestedProgram;

    import java.util.Arrays;

    public class Tests extends StageTest<String> {
        // test from the previous stage with one line
        @DynamicTest(order = 1)
        CheckResult oneLineTest() {

            TestedProgram main = new TestedProgram();
            main.start("./test/baltimore.json");
            String output = main.execute("/output \"SubwayLink\"").trim();

            String[] stations = new String[]{"Owings Mills", "Old Court", "Milford Mill", "Reiserstown Plaza",
                "Rogers Avenue", "West Cold Spring", "Mondawmin", "Penn North", "Uptown", "State Center",
                "Lexington Market", "Charles Center", "Shot Tower/Market Place", "Johns Hopkins Hospital"};

            checkDepots(output);
            checkOutputLength(output, stations.length + 2);
            assertStations(output, stations);

            return CheckResult.correct();
        }

        // test of example
        @DynamicTest(order = 2)
        CheckResult multipleLineOutputTest() {

            TestedProgram main = new TestedProgram();
            main.start("./test/lausanne.json");
            String output = main.execute("/output \"m1\"").trim();

            String[] stations = new String[]{"Renes—Gare", "Epenex", "Crochy", "Cerisaie",
                "Bassenges", "EPFL", "UNL—Sorge", "Mouline", "UNL—Chemberonne", "Bourdonnette", "Melley",
                "Provence", "Montelly", "Vigie", "Lausanne—Flon"};

            checkDepots(output);
            checkOutputLength(output, stations.length + 2);
            assertStations(output, stations);

            output = main.execute("/output \"m2\"");

            stations = new String[]{"Croisettes", "Vennes", "Fourmi", "Sallaz", "CHUV", "Ours",
                "Riponne M.Bejart", "Bessieres", "Lausanne—Flon", "Lausanne Gare CFF", "Grancy", "Delices", "Jourdils",
                "Ouchy—Olympique"};

            checkDepots(output);
            checkOutputLength(output, stations.length + 2);
            assertStations(output, stations);

            return CheckResult.correct();
        }

        // example test pt.2 (with addition)
        @DynamicTest(order = 3)
        CheckResult additionTest() {

            TestedProgram main = new TestedProgram();
            main.start("./test/lausanne.json");

            // added a station to the end of the line
            main.execute("/append \"m1\" \"Test station 1\"");
            String output = main.execute("/output \"m1\"");

            String[] stations = new String[]{"Renes—Gare", "Epenex", "Crochy", "Cerisaie",
                "Bassenges", "EPFL", "UNL—Sorge", "Mouline", "UNL—Chemberonne", "Bourdonnette", "Melley",
                "Provence", "Montelly", "Vigie", "Lausanne—Flon", "Test station 1"};

            checkDepots(output);
            checkOutputLength(output, stations.length + 2);
            assertStations(output, stations);

            // added another one
            main.execute("/append \"m1\" \"Test station 2\"");
            output = main.execute("/output \"m1\"");

            stations = new String[]{"Renes—Gare", "Epenex", "Crochy", "Cerisaie",
                "Bassenges", "EPFL", "UNL—Sorge", "Mouline", "UNL—Chemberonne", "Bourdonnette", "Melley",
                "Provence", "Montelly", "Vigie", "Lausanne—Flon", "Test station 1", "Test station 2"};

            checkDepots(output);
            checkOutputLength(output, stations.length + 2);
            assertStations(output, stations);

            // added one station to the beginning of the line
            main.execute("/add-head \"m1\" \"Head\"");
            output = main.execute("/output \"m1\"");

            stations = new String[]{"Head", "Renes—Gare", "Epenex", "Crochy", "Cerisaie",
                "Bassenges", "EPFL", "UNL—Sorge", "Mouline", "UNL—Chemberonne", "Bourdonnette", "Melley",
                "Provence", "Montelly", "Vigie", "Lausanne—Flon", "Test station 1", "Test station 2"};

            checkDepots(output);
            checkOutputLength(output, stations.length + 2);
            assertStations(output, stations);

            return CheckResult.correct();
        }

        // not existing file check
        @DynamicTest(order = 4)
        CheckResult nonexistingFileTest() {
            TestedProgram main = new TestedProgram();
            String output = main.start("tHiS_fIlE_DoEs_nOt_ExIsT.txt");
            if (output.trim().length() == 0) {
                return CheckResult.wrong("The program did not print anything when the file was not exist. ");
            }
            if (output.toLowerCase().startsWith("depot") || output.toLowerCase().endsWith("depot")) {
                return CheckResult.wrong("It looks like the program did not print an error message when the file was not exist.");
            }
            return CheckResult.correct();
        }

        // test of a case from the example
        @DynamicTest(order = 5)
        CheckResult outputLineWithTransfer() {
            TestedProgram main = new TestedProgram();
            main.start("./test/prague.json");

            String[][] stations = new String[][]{
                {"Nemocnice Motol", null},
                {"Petriny", null},
                {"Nadrazi Veleslavin", null},
                {"Borislavka", null},
                {"Dejvicka", null},
                {"Hradcanska", null},
                {"Malostranska", null},
                {"Staromestska", null},
                {"Mustek", "Linka B"},
                {"Muzeum", "Linka C"},
                {"Namesti Miru", null},
                {"Jiriho z Podebrad", null},
                {"Flora", null},
                {"Zelivskeho", null},
                {"Strasnicka", null},
                {"Skalka", null},
                {"Depo Hostivar", null}
            };

            String output = main.execute("/output \"Linka A\"");
            checkDepots(output);

            checkOutputLength(output, stations.length + 2);
            assertWithTransfer(output, stations);

            return CheckResult.correct();
        }

        @DynamicTest(order = 6)
        CheckResult connectLinesTest() {
            TestedProgram main = new TestedProgram();
            main.start("./test/prague.json");

            String[][] stations = new String[][]{
                {"Nemocnice Motol", null},
                {"Petriny", "Linka C"},
                {"Nadrazi Veleslavin", null},
                {"Borislavka", null},
                {"Dejvicka", null},
                {"Hradcanska", null},
                {"Malostranska", null},
                {"Staromestska", null},
                {"Mustek", "Linka B"},
                {"Muzeum", "Linka C"},
                {"Namesti Miru", null},
                {"Jiriho z Podebrad", null},
                {"Flora", null},
                {"Zelivskeho", null},
                {"Strasnicka", null},
                {"Skalka", null},
                {"Depo Hostivar", null}
            };

            main.execute("/connect \"Linka C\" \"I.P.Pavlova\" \"Linka A\" \"Petriny\"");
            String output = main.execute("/output \"Linka A\"");

            checkDepots(output);
            checkOutputLength(output, stations.length + 2);
            assertWithTransfer(output, stations);

            return CheckResult.correct();
        }

        @DynamicTest(order = 7)
        CheckResult simpleRouteTest() {
            TestedProgram main = new TestedProgram();
            main.start("./test/prague.json");

            String[] correctRoute = {"Petriny", "Nadrazi Veleslavin", "Borislavka", "Dejvicka", "Hradcanska", "Malostranska",
                "Staromestska", "Mustek", "Muzeum", "Namesti Miru", "Jiriho z Podebrad", "Flora"};

            String[] sOutput = main.execute("/route \"Linka A\" \"Petriny\" \"Linka A\" \"Flora\"").toLowerCase().split("\n");

            if (sOutput.length != correctRoute.length) {
                return CheckResult.wrong("Your program printed an incorrect number of stations in the route.\n" +
                    "Expected: " + correctRoute.length + " stations." +
                    "\nYour output: " + sOutput.length + " stations.");
            }

            for (int i = 0; i < correctRoute.length; i++) {
                if (i == 0 && !correctRoute[i].toLowerCase().equals(sOutput[i].toLowerCase())) {
                    return CheckResult.wrong("The first station in the output should be '" + correctRoute[i] + "'.");
                } else if (i != 0) {
                    if (!correctRoute[i].toLowerCase().equals(sOutput[i].toLowerCase())) {
                        return CheckResult.wrong("After '" + correctRoute[i - 1] + "' should be '" + correctRoute[i] + "'.");
                    }
                }
            }

            return CheckResult.correct();
        }

        @DynamicTest(order = 8)
        CheckResult advancedRouteTest() {

            TestedProgram main = new TestedProgram();
            main.start("./test/prague.json");

            String[] stations = {"Vysehrad", "I.P.Pavlova", "Muzeum",
                "Transition to line Linka A", "Muzeum", "Mustek",
                "Transition to line Linka B", "Mustek", "Namesti Republiky"};
            String[] sOutput = main.execute("/route \"Linka C\" \"Vysehrad\" \"Linka B\" \"Namesti Republiky\"").split("\n");

            if (sOutput.length != stations.length) {
                return CheckResult.wrong("Your program printed an incorrect number of stations in the route.\n" +
                    "Expected: " + (stations.length - 4) + " stations and 2 transitions. Output should be " + stations.length + " lines." +
                    "\nYour output: " + sOutput.length + " lines");
            }

            for (int i = 0; i < stations.length; i++) {
                if (i == 0 && !stations[i].toLowerCase().equals(sOutput[i].toLowerCase())) {
                    return CheckResult.wrong("The first station in the output should be " + stations[i]);
                } else if (i != 0) {
                    if (!stations[i].toLowerCase().equals(sOutput[i].toLowerCase())) {
                        return CheckResult.wrong("After '" + stations[i - 1] + "' should be '" + stations[i] + "'.");
                    }
                }
            }
            return CheckResult.correct();
        }

        // checks for "depot" at the start and at the end
        void checkDepots(String output) {
            output = output.trim().toLowerCase();
            if (!output.startsWith("depot")) {
                throw new WrongAnswer("Your output should start with 'depot'.");
            } else if (!output.endsWith("depot")) {
                throw new WrongAnswer("Your output should end with 'depot'.");
            }
        }

        // checks number of stations in output
        void checkOutputLength(String output, int correctLength) {
            int length = output.trim().split("\n").length;
            if (length != correctLength) {
                throw new WrongAnswer("You output contains wrong number of lines.\n" +
                    "Expected: " + correctLength + " lines\n" +
                    "Your output: " + length + " lines");
            }
        }

        // checks stations
        void assertStations(String output, String[] stations) {

            String[] sOutput = output.trim().split("\n");

            for (int i = 0; i < stations.length; i++) {
                if (!sOutput[i + 1].equals(stations[i])) {
                    throw new WrongAnswer("Can't find station '" + stations[i] + "' in the line number " + (i + 2));
                }
            }
        }

        void assertWithTransfer(String output, String[][] stations) {

            String[] sOutput = output.split("\n");

            for (int i = 0; i < stations.length; i++) {
                String currentLine = sOutput[i + 1].toLowerCase().trim();
                String currentStation = stations[i][0];
                String currentTransfer = stations[i][1];
                if (currentTransfer == null) {
                    if (!currentLine.equals(currentStation.toLowerCase())) {
                        throw new WrongAnswer("There is an error in your program's reply. Some stations were not found.");
                    }
                } else if (!currentLine.contains(currentStation.toLowerCase()) ||
                    !currentLine.contains(currentTransfer.toLowerCase())) {
                    throw new WrongAnswer("Expected transfer to '" + currentTransfer + "' from '" + currentStation + "' station.");
                }
            }
        }
    }
  learner_created: false
- name: test/lausanne.json
  visible: false
  text: |-
    {
      "m1": {
        "1": {
          "name": "Renes—Gare",
          "transfer": []
        },
        "2": {
          "name": "Epenex",
          "transfer": []
        },
        "3": {
          "name": "Crochy",
          "transfer": []
        },
        "4": {
          "name": "Cerisaie",
          "transfer": []
        },
        "5": {
          "name": "Bassenges",
          "transfer": []
        },
        "6": {
          "name": "EPFL",
          "transfer": []
        },
        "7": {
          "name": "UNL—Sorge",
          "transfer": []
        },
        "8": {
          "name": "Mouline",
          "transfer": []
        },
        "9": {
          "name": "UNL—Chemberonne",
          "transfer": []
        },
        "10": {
          "name": "Bourdonnette",
          "transfer": []
        },
        "11": {
          "name": "Melley",
          "transfer": []
        },
        "12": {
          "name": "Provence",
          "transfer": []
        },
        "13": {
          "name": "Montelly",
          "transfer": []
        },
        "14": {
          "name": "Vigie",
          "transfer": []
        },
        "15": {
          "name": "Lausanne—Flon",
          "transfer": []
        }
      },
      "m2": {
        "1": {
          "name": "Croisettes",
          "transfer": []
        },
        "2": {
          "name": "Vennes",
          "transfer": []
        },
        "3": {
          "name": "Fourmi",
          "transfer": []
        },
        "4": {
          "name": "Sallaz",
          "transfer": []
        },
        "5": {
          "name": "CHUV",
          "transfer": []
        },
        "6": {
          "name": "Ours",
          "transfer": []
        },
        "7": {
          "name": "Riponne M.Bejart",
          "transfer": []
        },
        "8": {
          "name": "Bessieres",
          "transfer": []
        },
        "9": {
          "name": "Lausanne—Flon",
          "transfer": []
        },
        "10": {
          "name": "Lausanne Gare CFF",
          "transfer": []
        },
        "11": {
          "name": "Grancy",
          "transfer": []
        },
        "12": {
          "name": "Delices",
          "transfer": []
        },
        "13": {
          "name": "Jourdils",
          "transfer": []
        },
        "14": {
          "name": "Ouchy—Olympique",
          "transfer": []
        }
      }
    }
  learner_created: false
- name: src/Station.java
  visible: true
  text: |-
    import java.util.List;

    /*
    public class Station {
        int number;
        String name;
        List<Station> transfer;
        static Station depot = new Station(0, "depot", null);

        static Station depot() {
            return depot;
        }

        public Station(int number, String name, List<Station> transfer) {
            this.number = number;
            this.name = name;
            this.transfer = transfer;
        }

        public Station(String name, List<Station> transfer) {
            this.number = -1;
            this.name = name;
            this.transfer = transfer;
        }

        @Override
        public String toString() {
            return "Station{" +
                    "number=" + number +
                    ", name='" + name + '\'' +
                    ", transfer=" + transfer +
                    '}';
        }
    }
    */
  learner_created: false
- name: test/prague.json
  visible: false
  text: |-
    {
      "Linka A": {
        "1": {
          "name": "Nemocnice Motol" ,
          "transfer": []
        } ,
        "2": {
          "name": "Petriny" ,
          "transfer": []
        } ,
        "3": {
          "name": "Nadrazi Veleslavin" ,
          "transfer": []
        } ,
        "4": {
          "name": "Borislavka" ,
          "transfer": []
        } ,
        "5": {
          "name": "Dejvicka" ,
          "transfer": []
        } ,
        "6": {
          "name": "Hradcanska" ,
          "transfer": []
        } ,
        "7": {
          "name": "Malostranska" ,
          "transfer": []
        } ,
        "8": {
          "name": "Staromestska" ,
          "transfer": []
        } ,
        "9": {
          "name": "Mustek" ,
          "transfer": [
            {
              "line": "Linka B" ,
              "station": "Mustek"
            }
          ]
        } ,
        "10": {
          "name": "Muzeum" ,
          "transfer": [
            {
              "line": "Linka C" ,
              "station": "Muzeum"
            }
          ]
        } ,
        "11": {
          "name": "Namesti Miru" ,
          "transfer": []
        } ,
        "12": {
          "name": "Jiriho z Podebrad" ,
          "transfer": []
        } ,
        "13": {
          "name": "Flora" ,
          "transfer": []
        } ,
        "14": {
          "name": "Zelivskeho" ,
          "transfer": []
        } ,
        "15": {
          "name": "Strasnicka" ,
          "transfer": []
        } ,
        "16": {
          "name": "Skalka" ,
          "transfer": []
        } ,
        "17": {
          "name": "Depo Hostivar" ,
          "transfer": []
        }
      } ,
      "Linka B": {
        "1": {
          "name": "Cerny Most" ,
          "transfer": []
        } ,
        "2": {
          "name": "Rajska zahrada" ,
          "transfer": []
        } ,
        "3": {
          "name": "Hloubetin" ,
          "transfer": []
        } ,
        "4": {
          "name": "Kolbenova" ,
          "transfer": []
        } ,
        "5": {
          "name": "Vysocanska" ,
          "transfer": []
        } ,
        "6": {
          "name": "Ceskomoravska" ,
          "transfer": []
        } ,
        "7": {
          "name": "Palmovka" ,
          "transfer": []
        } ,
        "8": {
          "name": "Invalidovna" ,
          "transfer": []
        } ,
        "9": {
          "name": "Krizikova" ,
          "transfer": []
        } ,
        "10": {
          "name": "Florenc" ,
          "transfer": [
            {
              "line": "Linka C" ,
              "station": "Florenc"
            }
          ]
        } ,
        "11": {
          "name": "Namesti Republiky" ,
          "transfer": []
        } ,
        "12": {
          "name": "Mustek" ,
          "transfer": [
            {
              "line": "Linka A" ,
              "station": "Mustek"
            }
          ]
        } ,
        "13": {
          "name": "Narodni trida" ,
          "transfer": []
        } ,
        "14": {
          "name": "Karlovo namesti" ,
          "transfer": []
        } ,
        "15": {
          "name": "Andel" ,
          "transfer": []
        } ,
        "16": {
          "name": "Smichovske nadrazi" ,
          "transfer": []
        } ,
        "17": {
          "name": "Radlicka" ,
          "transfer": []
        } ,
        "18": {
          "name": "Jinonice" ,
          "transfer": []
        } ,
        "19": {
          "name": "Nove Butovice" ,
          "transfer": []
        } ,
        "20": {
          "name": "Hurka" ,
          "transfer": []
        } ,
        "21": {
          "name": "Luziny" ,
          "transfer": []
        } ,
        "22": {
          "name": "Luka" ,
          "transfer": []
        } ,
        "23": {
          "name": "Stodulky" ,
          "transfer": []
        } ,
        "24": {
          "name": "Zlicin" ,
          "transfer": []
        }
      } ,
      "Linka C": {
        "1": {
          "name": "Letnany" ,
          "transfer": []
        } ,
        "2": {
          "name": "Prosek" ,
          "transfer": []
        } ,
        "3": {
          "name": "Strizkov" ,
          "transfer": []
        } ,
        "4": {
          "name": "Ladvi" ,
          "transfer": []
        } ,
        "5": {
          "name": "Kobylisy" ,
          "transfer": []
        } ,
        "6": {
          "name": "Nadrazi Holesovice" ,
          "transfer": []
        } ,
        "7": {
          "name": "Vltavska" ,
          "transfer": []
        } ,
        "8": {
          "name": "Florenc" ,
          "transfer": [
            {
              "line": "Linka B" ,
              "station": "Florenc"
            }
          ]
        } ,
        "9": {
          "name": "Hlavni nadrazi" ,
          "transfer": []
        } ,
        "10": {
          "name": "Muzeum" ,
          "transfer": [
            {
              "line": "Linka A" ,
              "station": "Muzeum"
            }
          ]
        } ,
        "11": {
          "name": "I.P.Pavlova" ,
          "transfer": []
        } ,
        "12": {
          "name": "Vysehrad" ,
          "transfer": []
        } ,
        "13": {
          "name": "Prazskeho povstani" ,
          "transfer": []
        } ,
        "14": {
          "name": "Pankrac" ,
          "transfer": []
        } ,
        "15": {
          "name": "Budejovicka" ,
          "transfer": []
        } ,
        "16": {
          "name": "Kacerov" ,
          "transfer": []
        } ,
        "17": {
          "name": "Roztyly" ,
          "transfer": []
        } ,
        "18": {
          "name": "Chodov" ,
          "transfer": []
        } ,
        "19": {
          "name": "Opatov" ,
          "transfer": []
        } ,
        "20": {
          "name": "Haje" ,
          "transfer": []
        }
      }
    }
  learner_created: false
- name: src/Graph/Graph.java
  visible: true
  learner_created: true
- name: src/Graph/BFS.java
  visible: true
  learner_created: true
- name: src/Metro/Route.java
  visible: true
  learner_created: true
- name: test/baltimore.json
  visible: true
  learner_created: true
feedback_link: https://hyperskill.org/projects/120/stages/651/implement#comment
status: Failed
feedback:
  message: "Wrong answer in test #8\n\nYour program printed an incorrect number of\
    \ stations in the route.\nExpected: 5 stations and 2 transitions. Output should\
    \ be 9 lines.\nYour output: 8 lines\n\nPlease find below the output of your program\
    \ during this failed test.\nNote that the &#39;&gt;&#39; character indicates the\
    \ beginning of the input line.\n\n---\n\nArguments: ./test/prague.json\n\nstdout:\n\
    &gt; /route &quot;Linka C&quot; &quot;Vysehrad&quot; &quot;Linka B&quot; &quot;Namesti\
    \ Republiky&quot;\nVysehrad\nI.P.Pavlova\nMuzeum\nHlavni nadrazi\nFlorenc\nTransition\
    \ to line Linka B\nFlorenc\nNamesti Republiky\n\nstderr:\n[last 250 lines of output\
    \ are shown, 244 skipped]\n      &quot;transfer&quot;: []\n    } ,\n    &quot;12&quot;:\
    \ {\n      &quot;name&quot;: &quot;Vysehrad&quot; ,\n      &quot;transfer&quot;:\
    \ []\n    } ,\n    &quot;13&quot;: {\n      &quot;name&quot;: &quot;Prazskeho\
    \ povstani&quot; ,\n      &quot;transfer&quot;: []\n    } ,\n    &quot;14&quot;:\
    \ {\n      &quot;name&quot;: &quot;Pankrac&quot; ,\n      &quot;transfer&quot;:\
    \ []\n    } ,\n    &quot;15&quot;: {\n      &quot;name&quot;: &quot;Budejovicka&quot;\
    \ ,\n      &quot;transfer&quot;: []\n    } ,\n    &quot;16&quot;: {\n      &quot;name&quot;:\
    \ &quot;Kacerov&quot; ,\n      &quot;transfer&quot;: []\n    } ,\n    &quot;17&quot;:\
    \ {\n      &quot;name&quot;: &quot;Roztyly&quot; ,\n      &quot;transfer&quot;:\
    \ []\n    } ,\n    &quot;18&quot;: {\n      &quot;name&quot;: &quot;Chodov&quot;\
    \ ,\n      &quot;transfer&quot;: []\n    } ,\n    &quot;19&quot;: {\n      &quot;name&quot;:\
    \ &quot;Opatov&quot; ,\n      &quot;transfer&quot;: []\n    } ,\n    &quot;20&quot;:\
    \ {\n      &quot;name&quot;: &quot;Haje&quot; ,\n      &quot;transfer&quot;: []\n\
    \    }\n  }\n}\nMetro{metroLines=[MetroLine{name=&#39;Linka A&#39;, stations={1=Station{name=&#39;Nemocnice\
    \ Motol&#39;, transfer=[]}\n, 2=Station{name=&#39;Petriny&#39;, transfer=[]}\n\
    , 3=Station{name=&#39;Nadrazi Veleslavin&#39;, transfer=[]}\n, 4=Station{name=&#39;Borislavka&#39;,\
    \ transfer=[]}\n, 5=Station{name=&#39;Dejvicka&#39;, transfer=[]}\n, 6=Station{name=&#39;Hradcanska&#39;,\
    \ transfer=[]}\n, 7=Station{name=&#39;Malostranska&#39;, transfer=[]}\n, 8=Station{name=&#39;Staromestska&#39;,\
    \ transfer=[]}\n, 9=Station{name=&#39;Mustek&#39;, transfer=[TransferStation{line=&#39;Linka\
    \ B&#39;, station=&#39;Mustek&#39;}]}\n, 10=Station{name=&#39;Muzeum&#39;, transfer=[TransferStation{line=&#39;Linka\
    \ C&#39;, station=&#39;Muzeum&#39;}]}\n, 11=Station{name=&#39;Namesti Miru&#39;,\
    \ transfer=[]}\n, 12=Station{name=&#39;Jiriho z Podebrad&#39;, transfer=[]}\n\
    , 13=Station{name=&#39;Flora&#39;, transfer=[]}\n, 14=Station{name=&#39;Zelivskeho&#39;,\
    \ transfer=[]}\n, 15=Station{name=&#39;Strasnicka&#39;, transfer=[]}\n, 16=Station{name=&#39;Skalka&#39;,\
    \ transfer=[]}\n, 17=Station{name=&#39;Depo Hostivar&#39;, transfer=[]}\n}}\n\
    , MetroLine{name=&#39;Linka B&#39;, stations={1=Station{name=&#39;Cerny Most&#39;,\
    \ transfer=[]}\n, 2=Station{name=&#39;Rajska zahrada&#39;, transfer=[]}\n, 3=Station{name=&#39;Hloubetin&#39;,\
    \ transfer=[]}\n, 4=Station{name=&#39;Kolbenova&#39;, transfer=[]}\n, 5=Station{name=&#39;Vysocanska&#39;,\
    \ transfer=[]}\n, 6=Station{name=&#39;Ceskomoravska&#39;, transfer=[]}\n, 7=Station{name=&#39;Palmovka&#39;,\
    \ transfer=[]}\n, 8=Station{name=&#39;Invalidovna&#39;, transfer=[]}\n, 9=Station{name=&#39;Krizikova&#39;,\
    \ transfer=[]}\n, 10=Station{name=&#39;Florenc&#39;, transfer=[TransferStation{line=&#39;Linka\
    \ C&#39;, station=&#39;Florenc&#39;}]}\n, 11=Station{name=&#39;Namesti Republiky&#39;,\
    \ transfer=[]}\n, 12=Station{name=&#39;Mustek&#39;, transfer=[TransferStation{line=&#39;Linka\
    \ A&#39;, station=&#39;Mustek&#39;}]}\n, 13=Station{name=&#39;Narodni trida&#39;,\
    \ transfer=[]}\n, 14=Station{name=&#39;Karlovo namesti&#39;, transfer=[]}\n, 15=Station{name=&#39;Andel&#39;,\
    \ transfer=[]}\n, 16=Station{name=&#39;Smichovske nadrazi&#39;, transfer=[]}\n\
    , 17=Station{name=&#39;Radlicka&#39;, transfer=[]}\n, 18=Station{name=&#39;Jinonice&#39;,\
    \ transfer=[]}\n, 19=Station{name=&#39;Nove Butovice&#39;, transfer=[]}\n, 20=Station{name=&#39;Hurka&#39;,\
    \ transfer=[]}\n, 21=Station{name=&#39;Luziny&#39;, transfer=[]}\n, 22=Station{name=&#39;Luka&#39;,\
    \ transfer=[]}\n, 23=Station{name=&#39;Stodulky&#39;, transfer=[]}\n, 24=Station{name=&#39;Zlicin&#39;,\
    \ transfer=[]}\n}}\n, MetroLine{name=&#39;Linka C&#39;, stations={1=Station{name=&#39;Letnany&#39;,\
    \ transfer=[]}\n, 2=Station{name=&#39;Prosek&#39;, transfer=[]}\n, 3=Station{name=&#39;Strizkov&#39;,\
    \ transfer=[]}\n, 4=Station{name=&#39;Ladvi&#39;, transfer=[]}\n, 5=Station{name=&#39;Kobylisy&#39;,\
    \ transfer=[]}\n, 6=Station{name=&#39;Nadrazi Holesovice&#39;, transfer=[]}\n\
    , 7=Station{name=&#39;Vltavska&#39;, transfer=[]}\n, 8=Station{name=&#39;Florenc&#39;,\
    \ transfer=[TransferStation{line=&#39;Linka B&#39;, station=&#39;Florenc&#39;}]}\n\
    , 9=Station{name=&#39;Hlavni nadrazi&#39;, transfer=[]}\n, 10=Station{name=&#39;Muzeum&#39;,\
    \ transfer=[TransferStation{line=&#39;Linka A&#39;, station=&#39;Muzeum&#39;}]}\n\
    , 11=Station{name=&#39;I.P.Pavlova&#39;, transfer=[]}\n, 12=Station{name=&#39;Vysehrad&#39;,\
    \ transfer=[]}\n, 13=Station{name=&#39;Prazskeho povstani&#39;, transfer=[]}\n\
    , 14=Station{name=&#39;Pankrac&#39;, transfer=[]}\n, 15=Station{name=&#39;Budejovicka&#39;,\
    \ transfer=[]}\n, 16=Station{name=&#39;Kacerov&#39;, transfer=[]}\n, 17=Station{name=&#39;Roztyly&#39;,\
    \ transfer=[]}\n, 18=Station{name=&#39;Chodov&#39;, transfer=[]}\n, 19=Station{name=&#39;Opatov&#39;,\
    \ transfer=[]}\n, 20=Station{name=&#39;Haje&#39;, transfer=[]}\n}}\n]}\nadd edges:\
    \ 0 &lt;-&gt; 1\nadd edges: 1 &lt;-&gt; 2\nadd edges: 2 &lt;-&gt; 3\nadd edges:\
    \ 3 &lt;-&gt; 4\nadd edges: 4 &lt;-&gt; 5\nadd edges: 5 &lt;-&gt; 6\nadd edges:\
    \ 6 &lt;-&gt; 7\nadd edges: 7 &lt;-&gt; 8\nTransferStation{line=&#39;Linka B&#39;,\
    \ station=&#39;Mustek&#39;}\ngetLine(Linka B)\nadd tr edges: 8 -&gt; 28\nadd edges:\
    \ 8 &lt;-&gt; 9\nTransferStation{line=&#39;Linka C&#39;, station=&#39;Muzeum&#39;}\n\
    getLine(Linka C)\nadd tr edges: 9 -&gt; 50\nadd edges: 9 &lt;-&gt; 10\nadd edges:\
    \ 10 &lt;-&gt; 11\nadd edges: 11 &lt;-&gt; 12\nadd edges: 12 &lt;-&gt; 13\nadd\
    \ edges: 13 &lt;-&gt; 14\nadd edges: 14 &lt;-&gt; 15\nadd edges: 15 &lt;-&gt;\
    \ 16\nadd edges: 17 &lt;-&gt; 18\nadd edges: 18 &lt;-&gt; 19\nadd edges: 19 &lt;-&gt;\
    \ 20\nadd edges: 20 &lt;-&gt; 21\nadd edges: 21 &lt;-&gt; 22\nadd edges: 22 &lt;-&gt;\
    \ 23\nadd edges: 23 &lt;-&gt; 24\nadd edges: 24 &lt;-&gt; 25\nadd edges: 25 &lt;-&gt;\
    \ 26\nTransferStation{line=&#39;Linka C&#39;, station=&#39;Florenc&#39;}\ngetLine(Linka\
    \ C)\nadd tr edges: 26 -&gt; 48\nadd edges: 26 &lt;-&gt; 27\nadd edges: 27 &lt;-&gt;\
    \ 28\nTransferStation{line=&#39;Linka A&#39;, station=&#39;Mustek&#39;}\ngetLine(Linka\
    \ A)\nadd tr edges: 28 -&gt; 8\nadd edges: 28 &lt;-&gt; 29\nadd edges: 29 &lt;-&gt;\
    \ 30\nadd edges: 30 &lt;-&gt; 31\nadd edges: 31 &lt;-&gt; 32\nadd edges: 32 &lt;-&gt;\
    \ 33\nadd edges: 33 &lt;-&gt; 34\nadd edges: 34 &lt;-&gt; 35\nadd edges: 35 &lt;-&gt;\
    \ 36\nadd edges: 36 &lt;-&gt; 37\nadd edges: 37 &lt;-&gt; 38\nadd edges: 38 &lt;-&gt;\
    \ 39\nadd edges: 39 &lt;-&gt; 40\nadd edges: 41 &lt;-&gt; 42\nadd edges: 42 &lt;-&gt;\
    \ 43\nadd edges: 43 &lt;-&gt; 44\nadd edges: 44 &lt;-&gt; 45\nadd edges: 45 &lt;-&gt;\
    \ 46\nadd edges: 46 &lt;-&gt; 47\nadd edges: 47 &lt;-&gt; 48\nTransferStation{line=&#39;Linka\
    \ B&#39;, station=&#39;Florenc&#39;}\ngetLine(Linka B)\nadd tr edges: 48 -&gt;\
    \ 26\nadd edges: 48 &lt;-&gt; 49\nadd edges: 49 &lt;-&gt; 50\nTransferStation{line=&#39;Linka\
    \ A&#39;, station=&#39;Muzeum&#39;}\ngetLine(Linka A)\nadd tr edges: 50 -&gt;\
    \ 9\nadd edges: 50 &lt;-&gt; 51\nadd edges: 51 &lt;-&gt; 52\nadd edges: 52 &lt;-&gt;\
    \ 53\nadd edges: 53 &lt;-&gt; 54\nadd edges: 54 &lt;-&gt; 55\nadd edges: 55 &lt;-&gt;\
    \ 56\nadd edges: 56 &lt;-&gt; 57\nadd edges: 57 &lt;-&gt; 58\nadd edges: 58 &lt;-&gt;\
    \ 59\nadd edges: 59 &lt;-&gt; 60\n61 vertices, 122 edges \n0: 1 \n1: 0 2 \n2:\
    \ 1 3 \n3: 2 4 \n4: 3 5 \n5: 4 6 \n6: 5 7 \n7: 6 8 \n8: 7 28 9 \n9: 8 50 10 \n\
    10: 9 11 \n11: 10 12 \n12: 11 13 \n13: 12 14 \n14: 13 15 \n15: 14 16 \n16: 15\
    \ \n17: 18 \n18: 17 19 \n19: 18 20 \n20: 19 21 \n21: 20 22 \n22: 21 23 \n23: 22\
    \ 24 \n24: 23 25 \n25: 24 26 \n26: 25 48 27 \n27: 26 28 \n28: 27 8 29 \n29: 28\
    \ 30 \n30: 29 31 \n31: 30 32 \n32: 31 33 \n33: 32 34 \n34: 33 35 \n35: 34 36 \n\
    36: 35 37 \n37: 36 38 \n38: 37 39 \n39: 38 40 \n40: 39 \n41: 42 \n42: 41 43 \n\
    43: 42 44 \n44: 43 45 \n45: 44 46 \n46: 45 47 \n47: 46 48 \n48: 47 26 49 \n49:\
    \ 48 50 \n50: 49 9 51 \n51: 50 52 \n52: 51 53 \n53: 52 54 \n54: 53 55 \n55: 54\
    \ 56 \n56: 55 57 \n57: 56 58 \n58: 57 59 \n59: 58 60 \n60: 59 \n\ngetLine(Linka\
    \ C)\ngetLine(Linka B)\nroute: Station{name=&#39;Vysehrad&#39;, transfer=[]}\n\
    \ -&gt; Station{name=&#39;Namesti Republiky&#39;, transfer=[]}\n\nsearch 52 27"
  time: Fri, 27 Aug 2021 16:08:11 UTC
record: -1
